<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Diccionario - AR</title>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-REW5RZ32MX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-REW5RZ32MX');
  </script>

  <link rel="icon" type="image/png" href="favicon-ar.png" />
  <link rel="shortcut icon" href="favicon-ar.ico" type="image/x-icon" />
  <link rel="stylesheet" href="css/estilos.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6850323121677984" crossorigin="anonymous"></script>
</head>
<body>
  <button id="toggle-modo" onclick="toggleModo()" title="Cambiar modo claro/oscuro">
    <i class="fas fa-moon" id="icono-modo"></i>
  </button>

  <div class="zona-moleculas">
    <img src="img/mol/mol-1.png" class="molecula" style="top: 5%; left: 5%;" alt="mol-1" />
    <img src="img/mol/mol-2.png" class="molecula" style="top: 10%; left: 75%;" alt="mol-2" />
    <img src="img/mol/mol-3.png" class="molecula" style="top: 85%; left: 10%;" alt="mol-3" />
    <img src="img/mol/mol-4.png" class="molecula" style="top: 90%; left: 80%;" alt="mol-4" />
    <img src="img/mol/mol-5.png" class="molecula" style="top: 35%; left: 90%;" alt="mol-5" />
    <img src="img/mol/mol-6.png" class="molecula" style="top: 65%; left: 5%;" alt="mol-6" />
    <img src="img/mol/mol-7.png" class="molecula" style="top: 15%; left: 15%;" alt="mol-7" />
    <img src="img/mol/mol-8.png" class="molecula" style="top: 75%; left: 85%;" alt="mol-8" />
    <img src="img/mol/mol-9.png" class="molecula" style="top: 20%; left: 90%;" alt="mol-9" />
    <img src="img/mol/mol-10.png" class="molecula" style="top: 80%; left: 20%;" alt="mol-10" />
  </div>

  <nav class="nav-flotante">
    <button onclick="window.location.href='agregar.html'" class="btn-agregar">Agregar TÃ©rmino</button>
    <button onclick="window.location.href='sugerencias.html'" class="btn-sugerencias">Sugerencias</button>
    <button onclick="window.location.href='traductor.html'" class="btn-traductor">Traductor</button>
    <button onclick="window.location.href='inicio.html'" class="btn-inicio">Inicio</button>
    <button onclick="window.location.href='admin.html'" class="btn-admin">Admin</button>
  </nav>

  <div class="contenedor-principal">
    <main class="ventana">
      <h1><span class="azul">Diccionario</span><span class="rojo"> - AR</span></h1>

      <div class="busqueda">
        <input type="text" id="termino" placeholder="Escribe una palabra o abreviatura..." autocomplete="off" aria-label="Buscar tÃ©rmino" />
      </div>

      <div class="botones-busqueda">
        <button id="btnBuscar">Buscar</button>
        <button id="btnLimpiar">Limpiar</button>
        <button id="btnActualizar">Actualizar</button>        
      </div>

      <div id="estadoConexion" style="margin-top: 10px; color: #ff5c39; font-weight: bold;"></div>
      <div id="ultima-actualizacion">Ãšltima actualizaciÃ³n: -</div>
      <div id="contadorTerminos" class="aviso-nuevos"></div>

      <div class="spinner" id="spinner">
        <span></span><span></span><span></span>
      </div>

      <div id="resultado" tabindex="0" aria-live="polite" class="animado">
        Resultado aquÃ­...
      </div>
    </main>
  </div>

  <!-- Ventana emergente para sugerencias -->
<div id="form-sugerencia" class="ventana-sugerencia oculto">
  <h3>ğŸ“ Sugerir mejora</h3>
  <textarea id="inputSugerencia" placeholder="Escribe tu sugerencia..."></textarea>
  <input type="text" id="inputAutor" placeholder="Tu nombre o correo (opcional)" />
  <input type="text" id="inputTerminoRelacionado" placeholder="TÃ©rmino relacionado" />
  <div class="botones-form">
    <button onclick="enviarSugerencia()">Enviar</button>
    <button onclick="cerrarFormularioSugerencia()">Cancelar</button>
  </div>
</div>

<!-- BotÃ³n flotante -->
<button id="btn-sugerir" title="Sugerir una mejora" onclick="abrirFormularioSugerencia()">ğŸ“</button>

  <div id="sparkie-boton" title="Habla con Sparkie">
    <img src="img/sparkie.png" alt="Sparkie" />
    <div id="sparkie-burbuja" class="oculto">Â¿Tienes dudas? Â¡Habla con Sparkie!</div>
  </div>

  <div id="notificacion" class="popup-exito oculto">
    <i class="fas fa-check-circle"></i> Glosario actualizado con Ã©xito.
  </div>

  <footer class="footer-legal">
    <p>
      Â© 2025 <strong>Diccionario AR/RA</strong>. Todos los derechos reservados. Â·
      <a href="terminos.html">TÃ©rminos y Condiciones</a> Â·
      <a href="politica-privacidad.html">PolÃ­tica de Privacidad</a>
      <a href="condiciones-uso.html">Condiciones de Uso</a>
    </p>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="js/main.js" defer></script>
  <script src="js/eventosFestivos.js" defer></script>
  <script>
    function toggleModo() {
      const body = document.body;
      const icono = document.getElementById("icono-modo");
      const esClaro = body.classList.toggle("light-mode");
      icono.className = esClaro ? "fas fa-sun" : "fas fa-moon";
      localStorage.setItem("modoClaro", esClaro ? "1" : "0");
    }

    document.addEventListener("DOMContentLoaded", () => {
      if (localStorage.getItem("modoClaro") === "1") {
        document.body.classList.add("light-mode");
        document.getElementById("icono-modo").className = "fas fa-sun";
      }

      function actualizarEstadoConexion() {
        const estado = document.getElementById("estadoConexion");
        if (!navigator.onLine) {
          estado.textContent = "EstÃ¡s trabajando sin conexiÃ³n. Algunos datos pueden no estar actualizados.";
        } else {
          estado.textContent = "";
        }
      }

      window.addEventListener("online", actualizarEstadoConexion);
      window.addEventListener("offline", actualizarEstadoConexion);
      actualizarEstadoConexion();

      const input = document.getElementById("termino");
      let debounce;
      input.addEventListener("input", () => {
        clearTimeout(debounce);
        debounce = setTimeout(() => {
          document.getElementById("spinner").style.display = "flex";
        }, 500);
      });
    });
  </script>
</body>
</html>